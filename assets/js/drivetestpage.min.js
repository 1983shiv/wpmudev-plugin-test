(()=>{"use strict";var e={20:(e,r,t)=>{var n=t(609),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,t){var n,o={},c=null,u=null;for(n in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(u=r.ref),r)s.call(r,n)&&!l.hasOwnProperty(n)&&(o[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===o[n]&&(o[n]=r[n]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}r.Fragment=o,r.jsx=c,r.jsxs=c},609:e=>{e.exports=window.React},848:(e,r,t)=>{e.exports=t(20)}},r={};const t=window.wp.element,n=window.wp.components;var i=function t(n){var i=r[n];if(void 0!==i)return i.exports;var o=r[n]={exports:{}};return e[n](o,o.exports,t),o.exports}(848);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach(function(r){l(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function l(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==o(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",i=t.toStringTag||"@@toStringTag";function o(t,n,i,o){var l=n&&n.prototype instanceof a?n:a,c=Object.create(l.prototype);return u(c,"_invoke",function(t,n,i){var o,a,l,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(r,t){return o=r,a=0,l=e,f.n=t,s}};function h(t,n){for(a=t,l=n,r=0;!d&&c&&!i&&r<u.length;r++){var i,o=u[r],h=f.p,v=o[2];t>3?(i=v===n)&&(l=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=t<2&&h<o[1])?(a=0,f.v=n,f.n=o[1]):h<v&&(i=t<3||o[0]>n||n>v)&&(o[4]=t,o[5]=n,f.n=v,a=0))}if(i||t>1)return s;throw d=!0,n}return function(i,u,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,v),a=u,l=v;(r=a<2?e:l)||!d;){o||(a?a<3?(a>1&&(f.n=-1),h(a,l)):f.n=l:f.v=l);try{if(c=2,o){if(a||(i="next"),r=o[i]){if(!(r=r.call(o,l)))throw TypeError("iterator result is not an object");if(!r.done)return r;l=r.value,a<2&&(a=0)}else 1===a&&(r=o.return)&&r.call(o),a<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((r=(d=f.n<0)?l:t.call(n,f))!==s)break}catch(r){o=e,a=1,l=r}finally{c=1}}return{value:r,done:d}}}(t,i,o),!0),c}var s={};function a(){}function l(){}function d(){}r=Object.getPrototypeOf;var f=[][n]?r(r([][n]())):(u(r={},n,function(){return this}),r),h=d.prototype=a.prototype=Object.create(f);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=d,u(h,"constructor",d),u(d,"constructor",l),l.displayName="GeneratorFunction",u(d,i,"GeneratorFunction"),u(h),u(h,i,"Generator"),u(h,n,function(){return this}),u(h,"toString",function(){return"[object Generator]"}),(c=function(){return{w:o,m:v}})()}function u(e,r,t,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}u=function(e,r,t,n){function o(r,t){u(e,r,function(e){return this._invoke(r,t,e)})}r?i?i(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(o("next",0),o("throw",1),o("return",2))},u(e,r,t,n)}function d(e,r,t,n,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void t(e)}a.done?r(l):Promise.resolve(l).then(n,i)}function f(e){return function(){var r=this,t=arguments;return new Promise(function(n,i){var o=e.apply(r,t);function s(e){d(o,n,i,s,a,"next",e)}function a(e){d(o,n,i,s,a,"throw",e)}s(void 0)})}}function h(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=o.call(t)).done)&&(a.push(n.value),a.length!==r);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,r)||function(e,r){if(e){if("string"==typeof e)return v(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var p=document.getElementById(window.wpmudevDriveTest.dom_element_id),x=function(){var e=h((0,t.useState)(window.wpmudevDriveTest.authStatus||!1),2),r=e[0],o=(e[1],h((0,t.useState)(window.wpmudevDriveTest.hasCredentials||!1),2)),s=(o[0],o[1],h((0,t.useState)(!window.wpmudevDriveTest.hasCredentials),2)),l=s[0],u=s[1],d=h((0,t.useState)(!1),2),v=d[0],p=(d[1],h((0,t.useState)([]),2)),x=p[0],m=(p[1],h((0,t.useState)(null),2)),j=m[0],b=m[1],y=h((0,t.useState)(""),2),g=y[0],w=y[1],N=h((0,t.useState)({message:"",type:""}),2),S=N[0],O=(N[1],h((0,t.useState)({clientId:"",clientSecret:""}),2)),C=O[0],D=O[1];(0,t.useEffect)(function(){},[r]);var P=function(){var e=f(c().m(function e(){return c().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=f(c().m(function e(){return c().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=f(c().m(function e(){return c().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=f(c().m(function e(){return c().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=f(c().m(function e(){return c().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"sui-header",children:[(0,i.jsx)("h1",{className:"sui-header-title",children:"Google Drive Test"}),(0,i.jsx)("p",{className:"sui-description",children:"Test Google Drive API integration for applicant assessment"})]}),S.message&&(0,i.jsx)(n.Notice,{status:S.type,isDismissible:!0,onRemove:"",children:S.message}),l?(0,i.jsxs)("div",{className:"sui-box",children:[(0,i.jsx)("div",{className:"sui-box-header",children:(0,i.jsx)("h2",{className:"sui-box-title",children:"Set Google Drive Credentials"})}),(0,i.jsxs)("div",{className:"sui-box-body",children:[(0,i.jsx)("div",{className:"sui-box-settings-row",children:(0,i.jsx)(n.TextControl,{help:(0,t.createInterpolateElement)("You can get Client ID from <a>Google Cloud Console</a>. Make sure to enable Google Drive API.",{a:(0,i.jsx)("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer"})}),label:"Client ID",value:C.clientId,onChange:function(e){return D(a(a({},C),{},{clientId:e}))}})}),(0,i.jsx)("div",{className:"sui-box-settings-row",children:(0,i.jsx)(n.TextControl,{help:(0,t.createInterpolateElement)("You can get Client Secret from <a>Google Cloud Console</a>.",{a:(0,i.jsx)("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer"})}),label:"Client Secret",value:C.clientSecret,onChange:function(e){return D(a(a({},C),{},{clientSecret:e}))},type:"password"})}),(0,i.jsx)("div",{className:"sui-box-settings-row",children:(0,i.jsxs)("span",{children:["Please use this URL ",(0,i.jsx)("em",{children:window.wpmudevDriveTest.redirectUri})," in your Google API's ",(0,i.jsx)("strong",{children:"Authorized redirect URIs"})," field."]})}),(0,i.jsxs)("div",{className:"sui-box-settings-row",children:[(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"Required scopes for Google Drive API:"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"https://www.googleapis.com/auth/drive.file"}),(0,i.jsx)("li",{children:"https://www.googleapis.com/auth/drive.readonly"})]})]})]}),(0,i.jsx)("div",{className:"sui-box-footer",children:(0,i.jsx)("div",{className:"sui-actions-right",children:(0,i.jsx)(n.Button,{variant:"primary",onClick:P,disabled:v,children:v?(0,i.jsx)(n.Spinner,{}):"Save Credentials"})})})]}):r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"sui-box",children:[(0,i.jsx)("div",{className:"sui-box-header",children:(0,i.jsx)("h2",{className:"sui-box-title",children:"Upload File to Drive"})}),(0,i.jsx)("div",{className:"sui-box-body",children:(0,i.jsxs)("div",{className:"sui-box-settings-row",children:[(0,i.jsx)("input",{type:"file",onChange:function(e){return b(e.target.files[0])},className:"drive-file-input"}),j&&(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Selected:"})," ",j.name," (",Math.round(j.size/1024)," KB)"]})]})}),(0,i.jsx)("div",{className:"sui-box-footer",children:(0,i.jsx)("div",{className:"sui-actions-right",children:(0,i.jsx)(n.Button,{variant:"primary",onClick:k,disabled:v||!j,children:v?(0,i.jsx)(n.Spinner,{}):"Upload to Drive"})})})]}),(0,i.jsxs)("div",{className:"sui-box",children:[(0,i.jsx)("div",{className:"sui-box-header",children:(0,i.jsx)("h2",{className:"sui-box-title",children:"Create New Folder"})}),(0,i.jsx)("div",{className:"sui-box-body",children:(0,i.jsx)("div",{className:"sui-box-settings-row",children:(0,i.jsx)(n.TextControl,{label:"Folder Name",value:g,onChange:w,placeholder:"Enter folder name"})})}),(0,i.jsx)("div",{className:"sui-box-footer",children:(0,i.jsx)("div",{className:"sui-actions-right",children:(0,i.jsx)(n.Button,{variant:"secondary",onClick:I,disabled:v||!g.trim(),children:v?(0,i.jsx)(n.Spinner,{}):"Create Folder"})})})]}),(0,i.jsxs)("div",{className:"sui-box",children:[(0,i.jsxs)("div",{className:"sui-box-header",children:[(0,i.jsx)("h2",{className:"sui-box-title",children:"Your Drive Files"}),(0,i.jsx)("div",{className:"sui-actions-right",children:(0,i.jsx)(n.Button,{variant:"secondary",onClick:T,disabled:v,children:v?(0,i.jsx)(n.Spinner,{}):"Refresh Files"})})]}),(0,i.jsx)("div",{className:"sui-box-body",children:v?(0,i.jsxs)("div",{className:"drive-loading",children:[(0,i.jsx)(n.Spinner,{}),(0,i.jsx)("p",{children:"Loading files..."})]}):x.length>0?(0,i.jsx)("div",{className:"drive-files-grid",children:x.map(function(e){return(0,i.jsxs)("div",{className:"drive-file-item",children:[(0,i.jsxs)("div",{className:"file-info",children:[(0,i.jsx)("strong",{children:e.name}),(0,i.jsx)("small",{children:e.modifiedTime?new Date(e.modifiedTime).toLocaleDateString():"Unknown date"})]}),(0,i.jsx)("div",{className:"file-actions",children:e.webViewLink&&(0,i.jsx)(n.Button,{variant:"link",size:"small",href:"",target:"_blank",children:"View in Drive"})})]},e.id)})}):(0,i.jsx)("div",{className:"sui-box-settings-row",children:(0,i.jsx)("p",{children:"No files found in your Drive. Upload a file or create a folder to get started."})})})]})]}):(0,i.jsxs)("div",{className:"sui-box",children:[(0,i.jsx)("div",{className:"sui-box-header",children:(0,i.jsx)("h2",{className:"sui-box-title",children:"Authenticate with Google Drive"})}),(0,i.jsx)("div",{className:"sui-box-body",children:(0,i.jsxs)("div",{className:"sui-box-settings-row",children:[(0,i.jsx)("p",{children:"Please authenticate with Google Drive to proceed with the test."}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"This test will require the following permissions:"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"View and manage Google Drive files"}),(0,i.jsx)("li",{children:"Upload new files to Drive"}),(0,i.jsx)("li",{children:"Create folders in Drive"})]})]})}),(0,i.jsxs)("div",{className:"sui-box-footer",children:[(0,i.jsx)("div",{className:"sui-actions-left",children:(0,i.jsx)(n.Button,{variant:"secondary",onClick:function(){return u(!0)},children:"Change Credentials"})}),(0,i.jsx)("div",{className:"sui-actions-right",children:(0,i.jsx)(n.Button,{variant:"primary",onClick:_,disabled:v,children:v?(0,i.jsx)(n.Spinner,{}):"Authenticate with Google Drive"})})]})]})]})};t.createRoot?(0,t.createRoot)(p).render((0,i.jsx)(t.StrictMode,{children:(0,i.jsx)(x,{})})):(0,t.render)((0,i.jsx)(t.StrictMode,{children:(0,i.jsx)(x,{})}),p)})();
//# sourceMappingURL=drivetestpage.min.js.map